<div class="flex flex-row md:flex-col gap-1 md:gap-1.5">
  @for (tool of tools(); track $index) {
    @if (tool.visible !== false) {
      <p-button
        [class]="'transition-all duration-200 ' + (tool.customClass || '')"
        [class.opacity-0]="!tool.alwaysVisible"
        [class.group-hover:opacity-100]="!tool.alwaysVisible"
        [class.pointer-events-none]="!tool.alwaysVisible"
        [class.group-hover:pointer-events-auto]="!tool.alwaysVisible"
        [class.group-focus-within:opacity-100]="!tool.alwaysVisible"
        [class.group-focus-within:pointer-events-auto]="!tool.alwaysVisible"
        [class.opacity-100]="tool.alwaysVisible"
        [class.pointer-events-auto]="tool.alwaysVisible"
        [text]="true"
        [plain]="true"
        [rounded]="true"
        [icon]="tool.icon"
        (onClick)="tool.action()"
        [pTooltip]="tool.tooltip"
        tooltipPosition="right"
        [style]="{ color: textColor(), ...(tool.customStyle || {}) }"
        styleClass="!bg-transparent !border-none !shadow-none hover:!bg-white/10"
        (mouseenter)="tool.customEvents?.['mouseenter']?.()"
        (mouseleave)="tool.customEvents?.['mouseleave']?.()"
        (mousedown)="tool.customEvents?.['mousedown']?.()"
        (mouseup)="tool.customEvents?.['mouseup']?.()"
      ></p-button>
    }
  }
</div>
